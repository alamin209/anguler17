<div class="preHeader preHeader-sm" [ngClass]="{'is--loggedin':(userData && userData.email && userData.guest_user != 1)}">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-12 col-xs-12 hide-mobile">
                <div class="topbar-text">
                    <ul class="preHeader--social preHeader--social-sm">
                        <li class="preHeader--social--items"><a class="facebook" href="{{'https://'+siteSettings?.facebook}}" target="_blank"><i class="fe-facebook"></i></a></li>
                        <li class="preHeader--social--items"><a class="twitter" href="{{'https://'+siteSettings?.twitter}}"><i class="fe-twitter"></i></a></li>
                        <li class="preHeader--social--items"><a class="linkedin" href="{{'https://'+siteSettings?.LinkedIn}}"><i class="fe-linkedin"></i></a></li>
                        <li class="preHeader--social--items"><a class="youtube" href="{{'https://'+siteSettings?.youtube}}"><i class="fe-youtube"></i></a></li>
                    </ul>
                </div>
            </div>
            <div class="col-md-6 col-sm-12 col-xs-12">
                <div class="top-bar-right">
                    <div class="login"><a href="javascript:;" routerLink="/login">Login/Register</a></div>
                    
                    <div *ngIf="userData && userData.email && userData.guest_user != 1" class="user-profile-menu js-profileContainer" [ngClass]="{open: classPFlag}">
                        <div class="user-profile-menu-item">
                            <button type="button" class="user-profile-button js-profile u-capitalize mt-0" (click)="togglePMenu()" role="presentation" >
                                <span class="user-profile--avatar mtn-4">
                                    <img *ngIf="userData && userData?.profile_picture" src="{{ AWSBUCKETURL }}files/avatar/{{userData?.CID}}/{{userData?.profile_picture}}" alt="{{userData && userData && userData?.screen_name
                                    ? userData?.screen_name : ''}}" />
                                    <img *ngIf="userData && !userData?.profile_picture" src="./assets/images/300_1.jpg"
                                    alt="{{userData && userData && userData?.screen_name ? userData?.screen_name : ''}}" />
                                </span>
                                <span class="user-profile--name pt-0">
                                    {{(userData)? userData?.screen_name: ''}}
                                </span>
                                <span class="user-profile--drop fas fa-angle-down" role="presentation"></span>
                            </button>
                        </div>
                        <div class="dropdown-menu w-400 pull-right" >
                            <div class="two-column-grid">

                                <div class="grid-column w-50">
                                    <h4 class="w-100 pb-0 mb-1">{{(userData.SellerPackage && userData.SellerPackage == 'Yes')? 'Sell' : 'Dashboard'}}</h4>
                                    <ul>
                                        <li *ngIf="!userData.SellerPackage  || (userData.SellerPackage == null || userData.SellerPackage != 'Yes')">
                                            <a routerLink="/member/products" ><i class="fe-grid mr-2"></i>{{'MEMBERS_PAGE' | translate}}</a>
                                        </li>
                                        <li  *ngIf="userData.SellerPackage && userData.SellerPackage == 'Yes'">
                                            <a routerLink="/member/products" ><i class="fe-grid mr-2"></i>{{'SELLERS_PAGE' | translate}}</a>
                                        </li>
                                        <li *ngIf="userData.SellerPackage && userData.SellerPackage == 'Yes'"><a routerLink="/member/sales" ><i class="fe-trending-up mr-2"></i>{{'SALES_REPORTS' | translate }}</a></li>
                                        

                                    </ul>
                                </div>

                                <div class="grid-column w-50">
                                    <h4 class="w-100 pb-0 mb-1">Account</h4>
                                    <ul>
                                        <li><a routerLink="member/profile"><i class="fe-layers mr-1"></i>{{'MY_PROFILE' | translate }}</a></li>
                                        <li><a routerLink="member/edit-profile"><i class="fe-user-check mr-2"></i>{{'MY_ACCOUNT' | translate }}</a></li>
                                        <li><a routerLink="member/categories"><i class="fe-briefcase mr-2"></i>{{'MY_CATEGORIES' | translate }}</a></li>
                                        <li *ngIf="userData && userData.role_id == 2"><a routerLink="member/leads"><i class="fe-truck mr-2"></i>{{'MY_LEADS' | translate }}</a></li>
                                        
                                        <li *ngIf="IS_STORE"><a routerLink="member/wish-list"><i class="fe-star mr-2"></i>{{'WISH_LIST' | translate }}</a></li>
                                        <li><a routerLink="member/change-password"><i class="fe-lock mr-2"></i>{{'CHANGE_PASSWORD' | translate }}</a></li>
                                        <li><a href="javascript:;" (click)="signOut();"><i class="fe-log-out mr-2"></i>{{'SIGN_OUT' | translate }}</a></li>
                                    </ul>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="clearfix"></div>

<!-- Regular Site Header -->
<header class="header header-sm" [ngClass]="{'is--loggedin':(userData && userData.email && userData.guest_user != 1),'Search--Enabled':OpenSearch}" >
    
    <!-- Mobile Menu Toggler -->
    <button class="ham-menu js-mobile-nav" (click)="child.mobileRMenu();" type="button"><span class="transition-med"></span></button>
    
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="header__main header__main-sm">
                    <!-- Mobile Menu Toggler -->
                    <button class="mobile-nav-icon js-mobile-nav" (click)="child.mobileRMenu();" type="button"><span class="transition-med"></span></button>
                    
                    <div class="header__main--logo header__main--logo-md">
                        <!--<a *ngIf="userData && userData.email && userData.guest_user != 1" routerLink="/member/profile" ><img src="./assets/images/logo.svg" class="image-fluid" alt="{{'TITLE' | translate}}" /></a>
                        
                        <a *ngIf="!userData" routerLink="/" ><img src="./assets/images/logo.svg" class="image-fluid" alt="{{'TITLE' | translate}}" /></a>
                        -->
                        <a *ngIf="userData && userData.email && userData.guest_user != 1" routerLink="/"><img src="{{ComapnyLogo}}" class="image-fluid" alt="{{'TITLE' | translate}}" /></a>
                        
                        <a *ngIf="!userData" routerLink="/"><img src="{{ComapnyLogo}}" class="image-fluid" alt="{{'TITLE' | translate}}" /></a>
                    </div>
                    
                    <div class="header__right header__right-sm ml-auto">
                        <!-- Begin Notification Badge -->
                        <button *ngIf="userData && userData.email && userData.guest_user != 1" class="header__notify header__notify-sm mr-1">
                            <div class="header__notify-count">5+</div>
                            <i class="teachicon-notification"></i>
                        </button>
                        <!-- //Ends Notification Badge -->
                        
                        <div class="u-flexed u-align-center">
                            
                            <form class="search-popup" id="header-search-form">
                                <div class="input--with-icon input--icon-right">
                                    <div class="input-group">
                                        <input id="search" class="input--squared" name="search" placeholder="What are you looking for?" type="text" autofocus="autofocus" (input)="setSearchKeyword($event.target.value)" (keyup)="SearchEnter($event)" value="{{ Keyword }}">
                                        <div class="input-group-append">
                                            <button (click)="SearchByKeyword()" type="button" class="btn--search" role="button" tabindex="0"><i class="fe-search"></i> Search</button>
                                        </div>
                                    </div>
                                    <button type="button" class="btn--transparent" role="button" tabindex="0" (click)="OpenSearchBox();"><i class="missio--icon fe-x"></i></button>
                                </div>
                            </form>
                            
                            <!-- Header Social -->
                            <div class="header__right--links">
                                <ul class="header__socials" *ngIf="IS_STORE">
                                    <li>Share us with:</li>
                                    <li class="facebook"><a href="{{'https://'+siteSettings?.facebook}}" target="_blank"><i class="fe-facebook"></i></a></li>
                                    <li class="twitter"><a href="{{'https://'+siteSettings?.twitter}}"><i class="fe-twitter"></i></a></li>
                                    <li class="linkedin"><a href="{{'https://'+siteSettings?.LinkedIn}}"><i class="fe-linkedin"></i></a></li>
                                    <li class="instagram"><a href="{{'https://'+siteSettings?.instagram}}"><i class="fe-instagram"></i></a></li>
                                </ul>
                                <div class="header__login"><a href="javascript:;" routerLink="/login">Login/Register</a></div>
                            </div>
                            
                            <div *ngIf="userData && userData.email && userData.guest_user != 1" class="user-profile-menu js-profileContainer" [ngClass]="{open: classPFlag}">
                                
                                <div class="user-profile-menu-item">
                                    <button type="button" class="user-profile-button js-profile u-capitalize" (click)="togglePMenu()" role="presentation" >
                                        <span class="user-profile--avatar">
                                            <img *ngIf="userData && userData?.profile_picture" src="{{ AWSBUCKETURL }}files/avatar/{{userData?.CID}}/{{userData?.profile_picture}}" alt="{{userData && userData && userData?.screen_name
                                            ? userData?.screen_name : ''}}" />
                                            <img *ngIf="userData && !userData?.profile_picture" src="./assets/images/300_1.jpg"
                                            alt="{{userData && userData && userData?.screen_name ? userData?.screen_name : ''}}" />
                                        </span>
                                        <span class="user-profile--name">
                                            {{(userData)? userData?.screen_name: ''}}
                                        </span>
                                        <span class="user-profile--drop fas fa-angle-down" role="presentation"></span>
                                    </button>
                                </div>
                                
                                
                                <!-- Begin Seller Profile Menu -->
                                <div class="dropdown-menu w-200 pull-right" >
                                    <div class="grid-column w-50">
                                        <h4 class="w-100 pb-0 mb-1 ml-3">Account</h4>
                                        <ul>
                                            <li><a routerLink="member/profile"><i class="fe-layers mr-2"></i>{{'MY_PROFILE' | translate }}</a></li>
                                            <li><a routerLink="member/edit-profile"><i class="fe-user-check mr-2"></i>{{'MY_ACCOUNT' | translate }}</a></li>
                                            <li><a routerLink="member/categories"><i class="fe-briefcase mr-2"></i>{{'MY_CATEGORIES' | translate }}</a></li>
                                            <li *ngIf="userData && userData.role_id == 2"><a routerLink="member/leads"><i class="fe-truck mr-2"></i>{{'MY_LEADS' | translate }}</a></li>
                                        
                                            <li *ngIf="IS_STORE"><a routerLink="member/wish-list"><i class="fe-star mr-2"></i>{{'WISH_LIST' | translate }}</a></li>
                                            <li><a routerLink="member/change-password"><i class="fe-lock mr-2"></i>{{'CHANGE_PASSWORD' | translate }}</a></li>
                                            <li><a href="javascript:;" (click)="signOut();"><i class="fe-log-out mr-2"></i>{{'SIGN_OUT' | translate }}</a></li>
                                        </ul>
                                    </div>
                                </div>

                                <!-- //Ends Seller Profile Menu -->
                            </div>
                        
                            <div class="d-flex align-items-center header-controls pl-1 ml-3" style="border-left: 1px solid #ddd;">
                                <!--<div class="header--search">
                                    <button (click)="OpenSearchBox();" type="button" class="header--search--btn"><i class="fe-search"></i></button>
                                </div>-->

                                <div class="header__right--cart js-cartOpener ml-2 d-none" (click)="cartSiderBar();">
                                    <a href="javascript:void(0);"><span class="count">{{(productCount && productCount>0)? productCount : 0}}</span></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="nonAuth--menu" *ngIf="!UserToken || (userData && userData.guest_user == 1)">
            <div class="container">
                <ul class="nonAuth--menu__lists" *ngIf="menuList && menuList.length">
                    <li class="nonAuth--menu__item" *ngFor="let rItem of menuList let i = index">
                        <a *ngIf="!rItem?.ExternalLink"  routerLink="javascript:" routerLink="{{rItem.url}}"  [ngClass]="{'active':activeMenu==rItem.url}" [innerHtml]="rItem?.title | safeHtml"></a>
                        <a *ngIf="rItem?.ExternalLink" target="{{rItem.target}}" href="{{rItem.url}}"  [ngClass]="{'active':activeMenu==rItem.url}" [innerHtml]="rItem?.title | safeHtml"></a>
                        
                        <ul class="sub-menu" *ngIf="rItem && rItem.childrenMenu && rItem.childrenMenu.length">
                            <li *ngFor="let subMenu of rItem.childrenMenu let j = index">
                                <a *ngIf="!subMenu?.ExternalLink" routerLink="{{subMenu.url}}" [ngClass]="{'active':activeMenu==subMenu.url}"  class="">{{subMenu.title}}</a>
                                <a *ngIf="subMenu?.ExternalLink" target="{{subMenu.target}}" href="{{subMenu.url}}" [ngClass]="{'active':activeMenu==subMenu.url}"  class="">{{subMenu.title}}</a>
                                
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Include menu component here -->
    <app-menu [productCount]="productCount" [subTotal]="subTotal" [menuList]="menuList" (messageEvent)="receiveMessage($event)"></app-menu>
</header>

<div class="header-nav has-vertical-menu">
    <div class="container">
        <div class="header-nav-inner">
            <div class="header__search">
                <div class="header-nav-search">
                    <div class="header-nav-search-wrapp">
                        <app-search></app-search>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Begin Sidebar Cart -->
<aside class="SidebarCart navigation-active" [ngClass]="{'navigation-active': cartSbar}" *ngIf="cartProductList &&  cartProductList.length">
    <div class="widget--heading">
        <h3 class="widget--title">{{'SHOPPING_CART' | translate}}</h3>
    </div>
    <div class="widget__shopping_cart">
        <div class="widget__shopping_cart__content">
            <div class="widget__shopping_cart__content--body widget-scroll has-scrollbar">
                <div class="widget-scroll-content listVerticalScrollBar">
                    <ul class="cart_list">
                        <li class="cart_list__items" *ngFor="let cartItem of cartProductList; let i=index ">
                            <a href="javascript:void(0);" class="remove remove_from_cart_button" (click)="removeCartItem(cartItem.ID);" title="Remove">×</a>
                            <a href="javascript:void(0);"   routerLink="{{'product/'+cartItem.Product_Slug}}" 
                                class="cart-item-image">
                                
                                <img *ngIf="cartItem && cartItem.Image && cartItem.Image_Source != 'url'" src="{{AWSBUCKETURL}}files/store/products/{{cartItem.CID}}/{{cartItem.Product_ID}}/{{cartItem.Image}}" alt="" v>
                                <img *ngIf="cartItem && cartItem.Image && cartItem.Image_Source == 'url'" src="{{cartItem.Image}}" alt="" width="100" height="130">

                                <img *ngIf="!cartItem.Image"  routerLink="{{'product/'+cartItem.Product_Slug}}"   src="./assets/images/no-image.png" width="100" height="130">

                            </a>
                            <div class="cart-info">
                                <h3 class="product-title"  routerLink="{{'product/'+cartItem.Product_Slug}}"  [innerHtml]="((cartItem && cartItem.Product_Name)? cartItem.Product_Name : '') | safeHtml"></h3>
                                <div *ngIf="cartItem && cartItem.Product_Options && cartItem.Product_Options.length" class="amount">
                                    <div *ngFor="let Product_Option of cartItem.Product_Options; let ip=index" class="money text-red fs12 u-pb--0">{{Product_Option.value}} {{(Product_Option && Product_Option.Price && Product_Option.Price > 0)? '($'+Product_Option.Price+')' :''}}</div>
                                </div>
                                
                                <div class="product-quantity fullwidth u-mt--10 u-justify-end" routerLink="{{'product/'+cartItem.Product_Slug}}" >{{cartItem.Product_Count}} × <span class="amount">
                                    <span class="money text-red fs12 u-pb--0" routerLink="{{'product/'+cartItem.Product_Slug}}"  *ngIf="cartItem && (cartItem.DiscountType=='amount' || cartItem.DiscountType=='percent')">${{(cartItem && cartItem.Discount_Price )? cartItem.Discount_Price : ''}}</span>
                                    <span class="money text-blue fs12 u-pb--0"  routerLink="{{'product/'+cartItem.Product_Slug}}"  *ngIf="!(cartItem && (cartItem.DiscountType=='amount' || cartItem.DiscountType=='percent'))">${{(cartItem && cartItem.Product_Price )?cartItem.Product_Price :''}}</span>
                                </span></div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="widget__shopping_cart__content--footer">
                <div class="cart__total">
                    <span>{{'SUBTOTAL' | translate}}:</span>
                    <strong class="amount text-blue">${{(subTotal && subTotal>0)? subTotal : '0.00'}}</strong>
                </div>
                <div class="cart__buttons">
                    <a href="javascript:void(0);" routerLink="cart" (click)="cartSideBar();" class="button button--blue button-md button--cart">{{'VIEW_CART' | translate}}</a>
                    <a href="javascript:void(0);" routerLink="checkout" (click)="cartSideBar();" class="button button--red button-md button--checkout">{{'CHECKOUT' | translate}}</a>
                    <a href="javascript:void(0);" routerLink="shop" (click)="cartSideBar();" class="button button--grey button-md button--continue">{{'CONTINUE_SHOPPING' | translate}}</a>
                </div>
            </div>
        </div>
    </div>
    <div class="SidebarCart--Close open" *ngIf="cartProductList && cartProductList.length" (click)="cartSiderBar()" [ngClass]="{'open':cartSbar}"><span class="icon_close"></span></div>
</aside>
<div class="SidebarCart--Overlay" *ngIf="cartProductList && cartProductList.length" (click)="cartSiderBar()" [style.display]="cartSbar ? 'block' :'none'"></div>
<!-- //End Sidebar Cart -->