<div class="auth--body auth--body-md My--Profile">
  <div class="auth--body__inner auth--body__inner-md">
    <div class="container">
      <div class="row">
        <aside class="col-12 col-lg-3 col-xl-3">
          <div class="row u-mb--30 u-mb--30-sm">
            <div class="col-12 col-lg-12 col-xl-12">
              <h3 class="section--title section--title-sm">
                <a routerLink="/member/profile">{{
                  "UPGRADE_SUBSCRIPTION" | translate
                }}</a>
              </h3>
            </div>
          </div>

          <!--Add side bar-->
          <app-side-bar></app-side-bar>
        </aside>
        <div
          class="col-12 col-lg-9 col-xl-9 has--leftsidebar has--leftsidebar-md"
        >
          <div class="c-breadcrumb">
            <nav class="missio-breadcrumb">
              <a class="breadcrumb-link" routerLink="/">Home</a>
              <a class="breadcrumb-link" routerLink="/member/profile">{{
                "MY_DASHBOARD" | translate
              }}</a>
              <a class="breadcrumb-link" routerLink="/member/subscription">{{
                "MY_SUBSCRIPTION" | translate
              }}</a>
              <span class="breadcrumb-last">{{
                "UPGRADE_SUBSCRIPTION" | translate
              }}</span>
            </nav>
          </div>
          <div class="w-100 mb-5">
            <form class="row" [formGroup]="userForm" (ngSubmit)="getToken(userForm.value)">
                <div class="col-12 col-lg-7 col-md-12 col-sm-12 col-xs-12">
                  <div class="form-vertical form-vertical-sm">
                    <h2
                      class="subTitle subTitle-sm with--border with--border--full"
                    >
                      {{ "PACKAGE_DETAILS" | translate }}
                    </h2>
                    <div class="cart-table-section cart-table-section-xs">
                      <table
                        class="shop_table shop_table_responsive cart u-mb--0"
                        cellspacing="0"
                      >
                        <thead>
                          <tr>
                            <th class="product-thumbnail" colspan="2">
                              {{ "PACKAGE" | translate }}
                            </th>
                            <th class="product-price">{{ "PRICE" | translate }}</th>
                            <th class="product-discount">
                              {{ "DISCOUNT" | translate }}
                            </th>
                            <th class="product-subtotal">
                              {{ "TOTAL" | translate }}
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr class="cart_item">
                            <td class="th--prdt" colspan="2">
                              <div class="u-flexed u-align-center">
                                {{ Package?.Package_Name }}
                              </div>
                            </td>
                            <td class="product-price">
                              <span class="amount"
                                >(${{ Package?.Orig_Package_Price }})</span
                              >
                            </td>
                            <td class="product-discount">
                              <span class="amount"
                                >(${{ Package?.DiscountAmount }})</span
                              >
                            </td>
                            <td class="product-subtotal">
                              <span
                                class="amount"
                                *ngIf="Package && Package?.DiscountType == ''"
                                >(${{ Package.Package_Price }})</span
                              >
                              <span
                                class="amount"
                                *ngIf="Package && Package?.DiscountType != ''"
                                >(${{ Package.Discount_Price }})</span
                              >
                              <span *ngIf="Package && Package?.Package_Days == '7'"
                                >/Week</span
                              >
                              <span *ngIf="Package && Package?.Package_Days == '30'"
                                >/Month</span
                              >
                              <span
                                *ngIf="Package && Package?.Package_Days == '182'"
                                >/Semi Annual</span
                              >
                              <span
                                *ngIf="Package && Package?.Package_Days == '365'"
                                >/Year</span
                              >
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>

                    <div class="row mt-5">
                      <div class="col-12 col-lg-12 col-md-12 col-sm-12">
                        <div class="missio--secure missio--secure-sm">
                          <img
                            src="./assets/images/credit-cards_lg.png"
                            class="img-fluid m-cards"
                            alt="Cards"
                          />
                          <img
                            src="./assets/images/SSL.png"
                            class="m-ssl"
                            alt="SSL"
                          />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <aside class="col-12 col-lg-5 col-md-12 col-sm-12 col-xs-12">
                  <div
                    class="checkout--order__review checkout--order__review-sm mb-0"
                  >
                    <h3 class="subTitle subTitle-sm">
                      {{ "COMPLETE_UPGRADE" | translate }}
                    </h3>
                    <div class="checkout--order__review--inner u-mb--15">
                      <div class="cart__totals">
                        <div class="cart__totals--inner">
                          <div
                            id="login-form"
                            role="form"
                            class="ng-untouched ng-pristine"
                          >
                            <table
                              class="
                                shop_table shop_table_responsive
                                checkout--order__review--table
                                u-mb--5
                              "
                              cellspacing="0"
                            >
                              <thead>
                                <tr>
                                  <th class="product-name">
                                    {{ "PACKAGE" | translate }}
                                  </th>
                                  <th class="product-total">
                                    {{ "TOTAL" | translate }}
                                  </th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr class="cart_item ng-star-inserted">
                                  <td class="product-name">
                                    <span>{{ Package?.Package_Name }}</span
                                    ><strong class="product-quantity">x1</strong>
                                  </td>
                                  <td class="product-total">
                                    <span
                                      class="product-total ng-star-inserted"
                                      style="border: 0px none"
                                      >(${{ Package?.Discount_Price }})</span
                                    >
                                    <span
                                      *ngIf="
                                        Package && Package?.Package_Days == '7'
                                      "
                                      >/Week</span
                                    >
                                    <span
                                      *ngIf="
                                        Package && Package?.Package_Days == '30'
                                      "
                                      >/Month</span
                                    >
                                    <span
                                      *ngIf="
                                        Package && Package?.Package_Days == '182'
                                      "
                                      >/Semi Annual</span
                                    >
                                    <span
                                      *ngIf="
                                        Package && Package?.Package_Days == '365'
                                      "
                                      >/Year</span
                                    >
                                  </td>
                                </tr>

                                <tr [ngClass]="FREE_SIGNUP ? 'd-none' : ''">
                                  <td colspan="2" style="border: 0px none">
                                    <div class="input-couponcode w-100 text-left">
                                      <label for="couponcode" class="mb-2"
                                        ><strong>{{
                                          "COUPON_CODE" | translate
                                        }}</strong></label
                                      >
                                      <div class="input-group mb-0">
                                        <input
                                          (keyup)="
                                            getCouponValue($event.target.value)
                                          "
                                          type="text"
                                          class="
                                            form-control
                                            couponcode
                                            solid
                                            rounded
                                          "
                                          formControlName="couponcode"
                                          id="couponcode"
                                          name="couponcode"
                                          placeholder="{{
                                            'COUPON_CODE' | translate
                                          }}"
                                        />
                                        <div class="input-group-append">
                                          <button
                                            *ngIf="!CouponCodeApplied"
                                            class="button button--blue"
                                            type="button"
                                            (click)="ApplyCoupon()"
                                          >
                                            <i class="fe-check mr-1"></i>Apply
                                          </button>
                                          <button
                                            *ngIf="CouponCodeApplied"
                                            class="button button--red"
                                            type="button"
                                            (click)="RemoveCoupon()"
                                          >
                                            <i class="fe-x mr-1"></i>Remove
                                          </button>
                                        </div>
                                      </div>
                                    </div>
                                    <div class="clear"></div>
                                  </td>
                                </tr>
                                <tr
                                  *ngIf="CouponCodeApplied && CouponDiscount > 0"
                                  style="border: 0px none"
                                >
                                  <td
                                    colspan="2"
                                    style="
                                      padding-top: 11px;
                                      padding-bottom: 0px;
                                      border: 0px none;
                                    "
                                  >
                                    <div class="discounted--shipping u-upper">
                                      {{ "COUPON_DISCOUNT" | translate }} -
                                      <span class="text-green"
                                        >${{
                                          CouponCodeApplied && CouponDiscount
                                            ? CouponDiscount
                                            : "0.00"
                                        }}</span
                                      ><br />
                                      <span
                                        style="
                                          font-size: 13px;
                                          text-transform: none;
                                        "
                                        *ngIf="
                                          Package && Package?.Package_Days == '7'
                                        "
                                        >(for first week)</span
                                      >
                                      <span
                                        style="
                                          font-size: 13px;
                                          text-transform: none;
                                        "
                                        *ngIf="
                                          Package && Package?.Package_Days == '30'
                                        "
                                        >(for first month)</span
                                      >
                                      <span
                                        style="
                                          font-size: 13px;
                                          text-transform: none;
                                        "
                                        *ngIf="
                                          Package && Package?.Package_Days == '182'
                                        "
                                        >(for first payment)</span
                                      >
                                      <span
                                        style="
                                          font-size: 13px;
                                          text-transform: none;
                                        "
                                        *ngIf="
                                          Package && Package?.Package_Days == '365'
                                        "
                                        >(for first year)</span
                                      >
                                    </div>
                                  </td>
                                </tr>
                                <tr
                                  *ngIf="CouponCodeApplied && CouponDiscount > 0"
                                  class="order-total"
                                >
                                  <th>
                                    <span class="u-upper">{{
                                      "TOTAL" | translate
                                    }}</span>
                                  </th>
                                  <td>
                                    <span class="text-green"
                                      >${{
                                        Discounted_Price && Discounted_Price > 0
                                          ? Discounted_Price.toFixed(2)
                                          : "0.00"
                                      }}</span
                                    >
                                  </td>
                                </tr>
                                <tr [ngClass]="PAID_SIGNUP ? '' : 'd-none'">
                                  <td colspan="2" style="border: 0px none">
                                    <div class="input-couponcode text-left">
                                      <div class="w-100">
                                        <label for="card-info" class="mb-0"
                                          ><strong>{{
                                            "CARD_DETAILS" | translate
                                          }}</strong></label
                                        >
                                        <div class="stripe--payment">
                                          <div id="card-info" #cardInfo></div>
                                        </div>
                                      </div>
                                    </div>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                            <div class="cart__totals--proceed-to-checkout no-btp">
                              <button
                                class="
                                  button
                                  button--green
                                  button-md
                                  button-block
                                  button--makepay
                                "
                                type="submit">
                                Upgrade
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </aside>
              </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
