<div class="content__wrap content__wrap-sm">
    <div class="Shop__Listings Shop__Listings-xs memberResource">
        <div class="container">

            <div class="row" style="padding-bottom: 40px;">
                <div class="page-head"><div class="u-heading--medium">{{(recId > 0 ? "RESOURCE_UPDATE" : "RESOURCE_ADD") | translate}}</div></div>
                <div class="col-12 col-lg-12 col-md-12 col-sm-12">
                    <form name="Resource_Post_Form" id="Resource_Post_Form" [formGroup]="resourceForm"
                    (ngSubmit)="onSubmit(resourceForm.value)">
                        <input type="hidden" formControlName="id" name="id"/>
                        <div class="row">
                            <div class=" col-sm-12 col-lg-8 col-md-8">
                                <div class="missio--panel">
                                    <div class="panel-body">
                                        <div class="form-horizontal">
                                            <div class="control-group mb-3">
                                                <div
                                                  [ngClass]="
                                                    submitted && resourceForm.controls.title.errors
                                                      ? 'form-group form-group--has-error'
                                                      : 'form-group'
                                                  "
                                                >
                                                    <label class="mb-1" for="title">{{"RESOURCE_TITLE" | translate}} <span class="mandatory_asterisk">*</span></label>
                                                    <input type="text" class="form-control solid rounded" formControlName="title" id="title" name="title" placeholder="{{ 'RESOURCE_TITLE' | translate }}"/>
                                                    <div *ngIf="
                                                          submitted && resourceForm.controls.title.errors">
                                                        <div *ngIf="resourceForm.controls.title.errors.required">
                                                          <div class="help-block" style="display: block">
                                                            {{ "PLEASE_FILL_OUT_THIS_FIELD" | translate }}
                                                          </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="control-group mb-3">
                                                <div
                                                  [ngClass]="
                                                    submitted && resourceForm.controls.short_desc.errors
                                                      ? 'form-group form-group--has-error'
                                                      : 'form-group'
                                                  "
                                                >
                                                    <label class="mb-1" for="short_desc">{{"RESOURCE_SHORTDESC" | translate}} <span class="mandatory_asterisk">*</span></label>
                                                    <textarea class="form-control solid rounded" formControlName="short_desc" id="short_desc" name="short_desc" rows="4" placeholder="{{ 'RESOURCE_SHORTDESC' | translate }}"></textarea>
                                                    <div *ngIf="
                                                          submitted && resourceForm.controls.short_desc.errors">
                                                        <div *ngIf="resourceForm.controls.short_desc.errors.required">
                                                          <div class="help-block" style="display: block">
                                                            {{ "PLEASE_FILL_OUT_THIS_FIELD" | translate }}
                                                          </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="control-group mb-3">
                                                <label class="mb-1" for="desc">{{"RESOURCE_DESC" | translate}}</label>
                                                <ckeditor [editor]="editor" formControlName="desc" data=""></ckeditor>
                                            </div>
                                            <div class="control-group mb-3 d-none">
                                                <label class="mb-1" for="author">{{"RESOURCE_AUTHOR" | translate}}</label>
                                                <input type="text" class="form-control solid rounded" formControlName="author" id="author" name="author" placeholder="{{ 'RESOURCE_AUTHOR' | translate }}"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-4 col-md-4 col-sm-12">
                                <div class="missio--panel">
                                    <div class="panel-body">

                                        <h2 class="section--title" style="background-color: transparent;">{{"RESOURCE_FEAIMG" | translate}}</h2>
                                        <div
                                          class="row d-flex align-items-center form-group mb-5"
                                          *ngIf="imageURL"
                                        >
                                          <div class="col-12 col-md-9 col-sm-12 col-xs-12">
                                            <div class="profilepic--preview">
                                              <button
                                                (click)="RemovePic()"
                                                type="button"
                                                class="btn--deleteProfile"
                                              >
                                                <i class="fe-x icon"></i>
                                              </button>
                                              <img
                                                [src]="imageURL"
                                                height="200"
                                                *ngIf="imageURL"
                                                class="thumbnail mb-0"
                                              />
                                            </div>
                                          </div>
                                        </div>

                                        <div class="row d-flex align-items-center form-group mb-3">
                                          <div class="col-12 col-md-6 col-sm-12 col-xs-12">
                                            <div class="button-wrap mb-2">
                                              <label
                                                *ngIf="PictureExist"
                                                class="upload--button"
                                                for="upload"
                                                ><i class="fe-upload mr-2"></i>{{"RESOURCE_ADDING" | translate}}
                                                <input
                                                  type="file"
                                                  #file
                                                  type="file"
                                                  accept="image/*"
                                                  (change)="processFile(file.files)"
                                                  class="solid rounded"
                                                  id="profile_picture"
                                                  name="profile_picture"
                                                  placeholder="{{ 'PROFILE_PIC' | translate }}"
                                                />
                                              </label>
                                              <label
                                                *ngIf="!PictureExist"
                                                class="upload--button"
                                                for="upload"
                                              >
                                                <i class="fe-upload mr-2"></i>{{"RESOURCE_ADDING" | translate}}
                                                <input
                                                  type="file"
                                                  #file
                                                  type="file"
                                                  accept="image/*"
                                                  (change)="processFile(file.files)"
                                                  class="solid rounded"
                                                  id="profile_picture"
                                                  name="profile_picture"
                                                  placeholder="{{ 'PROFILE_PIC' | translate }}"
                                                />
                                              </label>
                                            </div>
                                          </div>
                                        </div>

                                        <h2 class="section--title" style="background-color: transparent;">{{"CATEGORY" | translate}} <span class="mandatory_asterisk">*</span></h2>

                                        <div class="control-group mb-0">
                                            <div class="controls">
                                                <div
                                                  [ngClass]="
                                                    submitted && resourceForm.controls.selCategory.errors
                                                      ? 'form-group form-group--has-error'
                                                      : 'form-group'
                                                  "
                                                >
                                                    <select class="form-control solid rounded CategoryID m-wrap col-12 col-lg-12 col-md-12 col-sm-12 chosen2" name="categories[]" id="CategoryID" formControlName="selCategory" size="">
                                                        <option class="placeholder" selected value="">
                                                            {{ "SELECT" | translate }}
                                                        </option>
                                                        <option *ngFor="let resItem of categoryList let i=index" value={{resItem.ID}}>{{resItem.name}}</option>
                                                    </select>
                                                    <div *ngIf="
                                                          submitted && resourceForm.controls.selCategory.errors">
                                                        <div *ngIf="resourceForm.controls.selCategory.errors.required">
                                                          <div class="help-block" style="display: block">
                                                            {{ "PLEASE_FILL_OUT_THIS_FIELD" | translate }}
                                                          </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <h2 class="section--title mt-3" style="background-color: transparent;">{{"TAGS" | translate}}</h2>

                                        <div class="control-group mb-0">
                                            <div class="controls">
                                                <angular2-multiselect class="form-control solid rounded m-wrap col-12 col-lg-12 col-md-12 col-sm-12" [data]="tagList" [settings]="multiSelectTags" formControlName="selTag" (onSelect)="onItemSelect($event)" (onDeSelect)="OnItemDeSelect($event)" (onSelectAll)="onSelectAll($event)" (onDeSelectAll)="onDeSelectAll($event)"></angular2-multiselect>
                                            </div>
                                        </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="panel--form-actions fixed">
                                <button id="save_btn" type="submit" class="button button--green button-md d-inline-block u-ml--10"  id="save_publish_button"><i class="icon-ok"></i> {{ "SAVE" | translate }}</button>
                                <button type="button" class="button button--grey button-md  d-inline-block u-ml--10" (click)="memberPage()" ><i class="icon-remove"></i> {{ "CANCEL" | translate }}</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<div class="clearfix"></div>
</div>